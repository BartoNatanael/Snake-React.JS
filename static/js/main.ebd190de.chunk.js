(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],{14:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(4),o=a.n(i),s=a(5),c=a(6),l=a(1),d=a(7),u=a(8),h=37,f=38,b=39,v=40,k={37:!0,38:!0,39:!0,40:!0};a(3);var m=function(e){for(var t=e.board,a=e.handleKey,n=[],i=0;i<20;i++)for(var o=0;o<20;o++){var s=20*i+o,c=t[s],l=1===c?"body-cell":2===c?"food-cell":"cell";n.push(r.a.createElement("div",{key:s,className:l}))}return r.a.createElement("div",{style:{width:600,height:600},tabIndex:0,onKeyDown:a,className:"board"},n)},y=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleKey=function(e){var t=e.nativeEvent.keyCode,a=Math.abs(n.state.direction-t);k[t]&&0!==a&&2!==a&&(n.nextDirection=t)},n.state={board:[],snake:[],direction:null,gameOver:!1},n.start=n.start.bind(Object(l.a)(n)),n.frame=n.frame.bind(Object(l.a)(n)),n.handleKey=n.handleKey,n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.start()}},{key:"start",value:function(){var e=this,t=[],a=[44];t[44]=1,this.setState({board:t,snake:a,direction:b},(function(){e.frame()}))}},{key:"frame",value:function(){var e=this,t=this.state,a=t.snake,n=t.board,r=t.direction,i=this.getNextIndex(a[0],r),o=2===n[i]||1===a.length;if(-1===a.indexOf(i)){if(o){var s;do{s=Math.floor(400*Math.random())}while(n[s]);n[s]=2}else n[a.pop()]=null;n[i]=1,a.unshift(i),this.nextDirection&&(r=this.nextDirection,this.nextDirection=null),this.setState({board:n,snake:a,direction:r},(function(){setTimeout(e.frame,200)}))}else this.setState({gameOver:!0})}},{key:"getNextIndex",value:function(e,t){var a=e%20,n=Math.floor(e/20);switch(t){case f:n=n<=0?19:n-1;break;case v:n=n>=20?0:n+1;break;case h:a=a<=0?19:a-1;break;case b:a=a>=19?0:a+1;break;default:return}return 20*n+a}},{key:"render",value:function(){var e=this.state.board;return r.a.createElement(m,{handleKey:this.handleKey,board:e})}}]),a}(n.Component);o.a.render(r.a.createElement(y,null),document.getElementById("root"))},3:function(e,t,a){},9:function(e,t,a){e.exports=a(14)}},[[9,1,2]]]);
//# sourceMappingURL=main.ebd190de.chunk.js.map