(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],{14:function(e,a,t){"use strict";t.r(a);var s=t(0),n=t.n(s),r=t(4),l=t.n(r),c=t(5),i=t(6),m=t(1),d=t(7),o=t(8),v=37,b=38,E=39,u=40,h={37:!0,38:!0,39:!0,40:!0};t(2);var N=function(e){for(var a=e.board,t=e.handleKey,s=[],r=0;r<20;r++)for(var l=0;l<20;l++){var c=20*r+l,i=a[c],m=1===i?"body-cell":2===i?"food-cell":"cell";s.push(n.a.createElement("div",{key:c,className:m}))}return n.a.createElement("div",{style:{width:600,height:600},tabIndex:0,onKeyDown:t,className:"board"},s)},f=function(e){return n.a.createElement("div",{className:"gameStarter"},n.a.createElement("h2",null,"Game Over"),n.a.createElement("button",{onClick:e.start},"Play again"))},k=function(e){return n.a.createElement("div",{className:"pointScore"},n.a.createElement("div",{className:"gameName"},n.a.createElement("div",{className:"b s"}),n.a.createElement("div",{className:"b s0"}),n.a.createElement("div",{className:"b s1"}),n.a.createElement("div",{className:"b s2"}),n.a.createElement("div",{className:"b s3"}),n.a.createElement("div",{className:"b s4"}),n.a.createElement("div",{className:"b s5"}),n.a.createElement("div",{className:"b n"}),n.a.createElement("div",{className:"b n0"}),n.a.createElement("div",{className:"b n1"}),n.a.createElement("div",{className:"b n2"}),n.a.createElement("div",{className:"b n3"}),n.a.createElement("div",{className:"b n4"}),n.a.createElement("div",{className:"b a"}),n.a.createElement("div",{className:"b a0"}),n.a.createElement("div",{className:"b a1"}),n.a.createElement("div",{className:"b a2"}),n.a.createElement("div",{className:"b a3"}),n.a.createElement("div",{className:"b a4"}),n.a.createElement("div",{className:"b k"}),n.a.createElement("div",{className:"b k0"}),n.a.createElement("div",{className:"b k1"}),n.a.createElement("div",{className:"b k2"}),n.a.createElement("div",{className:"b k3"}),n.a.createElement("div",{className:"b k4"}),n.a.createElement("div",{className:"b k5"}),n.a.createElement("div",{className:"b k6"}),n.a.createElement("div",{className:"b e"}),n.a.createElement("div",{className:"b e0"}),n.a.createElement("div",{className:"b e1"}),n.a.createElement("div",{className:"b e2"})),n.a.createElement("div",{className:"score"},n.a.createElement("p",null,"Your score:",n.a.createElement("br",null),n.a.createElement("span",null,e.points),n.a.createElement("br",null)," ",n.a.createElement("br",null),"Highest score:",n.a.createElement("br",null),n.a.createElement("span",null,e.maxPoints))))},p=function(e){return n.a.createElement("div",{className:"gameOver"},n.a.createElement("button",{onClick:e.start},"Start game"))},g=function(e){Object(o.a)(t,e);var a=Object(d.a)(t);function t(e){var s;return Object(c.a)(this,t),(s=a.call(this,e)).handleKey=function(e){var a=e.nativeEvent.keyCode,t=Math.abs(s.state.direction-a);h[a]&&0!==t&&2!==t&&(s.nextDirection=a)},s.state={board:[],snake:[],direction:null,gameOver:!1,speed:2.5,points:-1,maxPoints:0,gameStarted:!1},s.start=s.start.bind(Object(m.a)(s)),s.frame=s.frame.bind(Object(m.a)(s)),s.handleKey=s.handleKey,s}return Object(i.a)(t,[{key:"gameStarted",value:function(){this.setState({gameStarted:!0})}},{key:"start",value:function(){var e=this,a=[],t=[44];a[44]=1,this.gameStarted(),this.setState({board:a,snake:t,direction:E,gameOver:!1,points:-1,speed:2.5},(function(){e.frame()}))}},{key:"frame",value:function(){var e=this,a=this.state,t=a.snake,s=a.board,n=a.direction,r=this.getNextIndex(t[0],n),l=2===s[r]||1===t.length;if(-1===t.indexOf(r)){if(l){var c;do{c=Math.floor(400*Math.random())}while(s[c]);s[c]=2,this.setState({speed:this.state.speed+.1,points:this.state.points+1}),this.state.points>this.state.maxPoints&&this.setState({maxPoints:this.state.points})}else s[t.pop()]=null;s[r]=1,t.unshift(r),this.nextDirection&&(n=this.nextDirection,this.nextDirection=null),this.setState({board:s,snake:t,direction:n},(function(){setTimeout(e.frame,1e3/e.state.speed)}))}else this.setState({gameOver:!0})}},{key:"getNextIndex",value:function(e,a){var t=e%20,s=Math.floor(e/20);switch(a){case b:s=s<=0?19:s-1;break;case u:s=s>=20?0:s+1;break;case v:t=t<=0?19:t-1;break;case E:t=t>=19?0:t+1;break;default:return}return 20*s+t}},{key:"render",value:function(){var e=this.state.board;return n.a.createElement("div",{className:"game"},n.a.createElement(k,{points:this.state.points,maxPoints:this.state.maxPoints}),n.a.createElement(N,{handleKey:this.handleKey,board:e}),this.state.gameOver?n.a.createElement(f,{start:this.start}):null,this.state.gameStarted?null:n.a.createElement(p,{start:this.start}))}}]),t}(s.Component);l.a.render(n.a.createElement(g,null),document.getElementById("root"))},2:function(e,a,t){},9:function(e,a,t){e.exports=t(14)}},[[9,1,2]]]);
//# sourceMappingURL=main.09ac5036.chunk.js.map